(()=>{var t={798:function(t,e,o){t=o.nmd(t),function(o,s){"use strict";var i={};o.PubSub?(i=o.PubSub,console.warn("PubSub already loaded, using existing version")):(o.PubSub=i,function(t){var e={},o=-1;function s(t,e,o){try{t(e,o)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,o){t(e,o)}function r(t,o,r,n){var c,d=e[o],a=n?i:s;if(Object.prototype.hasOwnProperty.call(e,o))for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&a(d[c],t,r)}function n(t){var o=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,o)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[o]))}function c(t,e,o,s){var i=function(t,e,o){return function(){var s=String(t),i=s.lastIndexOf(".");for(r(t,t,e,o);-1!==i;)i=(s=s.substr(0,i)).lastIndexOf("."),r(t,s,e,o);r(t,"*",e,o)}}(t="symbol"==typeof t?t.toString():t,e,s);return!!function(t){for(var e=String(t),o=n(e)||n("*"),s=e.lastIndexOf(".");!o&&-1!==s;)s=(e=e.substr(0,s)).lastIndexOf("."),o=n(e);return o}(t)&&(!0===o?i():setTimeout(i,0),!0)}t.publish=function(e,o){return c(e,o,!1,t.immediateExceptions)},t.publishSync=function(e,o){return c(e,o,!0,t.immediateExceptions)},t.subscribe=function(t,s){if("function"!=typeof s)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var i="uid_"+String(++o);return e[t][i]=s,i},t.subscribeAll=function(e){return t.subscribe("*",e)},t.subscribeOnce=function(e,o){var s=t.subscribe(e,(function(){t.unsubscribe(s),o.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var o;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&delete e[o]},t.countSubscriptions=function(t){var o,s,i=0;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)){for(s in e[o])i++;break}return i},t.getSubscriptions=function(t){var o,s=[];for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&s.push(o);return s},t.unsubscribe=function(o){var s,i,r,n="string"==typeof o&&(Object.prototype.hasOwnProperty.call(e,o)||function(t){var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t))return!0;return!1}(o)),c=!n&&"string"==typeof o,d="function"==typeof o,a=!1;if(!n){for(s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(i=e[s],c&&i[o]){delete i[o],a=o;break}if(d)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===o&&(delete i[r],a=!0)}return a}t.clearSubscriptions(o)}}(i)),void 0!==t&&t.exports&&(e=t.exports=i),e.PubSub=i,t.exports=e=i}("object"==typeof window&&window||this)},417:()=>{(()=>{const t=document.getElementById("addNewProjectForm"),e=document.getElementById("projectOverlay"),o=document.getElementById("projectmodalClose");t.addEventListener("click",(t=>{e.style.display="block"})),o.addEventListener("click",(()=>{e.style.display="none"}));const s=document.getElementById("addNewTodoForm"),i=document.getElementById("todoOverlay"),r=document.getElementById("todomodalClose");s.addEventListener("click",(t=>{i.style.display="block"})),r.addEventListener("click",(()=>{i.style.display="none"}))})()}},e={};function o(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";o(417);class t{constructor(t,e){this.id=e,this.title=t,this.todos=[],this.active=!1}}var e=o(798);class s{constructor(t,e,o,s,i){this.id=t,this.title=e,this.dd=i,this.desc=o,this.pri=s}}class i{constructor(){this.localStorage=window.localStorage,this.projects=[{id:0,title:"Default",todos:[],active:!0}],e.subscribe("Loaded Projects",((t,o)=>{this.projects=o.saved,e.publishSync("LoadedActive",{active:this.findActiveProject()})}))}addProject(o){let s=new t(o,this.projects.length);this.projects.push(s),e.publishSync("Changed Projects",{projects:this.projects}),this.saveProjectstoLocalStorage(this.projects)}deleteProject(t){parseInt(t),this.projects.splice(t,1),e.publishSync("Changed Projects",{projects:this.projects}),this.saveProjectstoLocalStorage(this.projects)}addTodo(t){let o=new s(this.findActiveProject().todos.length,t.todoTitle,t.todoDesc,t.todoPri,t.tododd);this.findActiveProject().todos.push(o),e.publishSync("Changed Todos",{active:this.findActiveProject()}),this.saveProjectstoLocalStorage(this.projects)}toggleActivePropertyonProject(t){parseInt(t);for(let e=0;e<this.projects.length;e++)this.projects[e].id==t?this.projects[e].active=!0:this.projects[e].id!==t&&(this.projects[e].active=!1);console.log(this.projects),e.publishSync("Changed Active",{active:this.findActiveProject()})}findActiveProject(){return this.projects.find((t=>t.active))}saveProjectstoLocalStorage(){this.localStorage.setItem("theProjects",JSON.stringify(this.projects))}}class r{constructor(){this.body=document.getElementById("body"),this.projectForm=document.getElementById("addProject"),this.appendProjects=document.getElementById("appendProjects"),this.projectOverlay=document.getElementById("projectOverlay"),this.appendTodos=document.getElementById("appendTodos"),this.projectButtons=Array.from(document.getElementsByClassName("project-button")),e.subscribe("Changed Projects",((t,e)=>{this.updateProjectsList(e.projects)})),this.todoForm=document.getElementById("todoForm"),this.todoOverlay=document.getElementById("todoOverlay"),this.selectedProject=document.getElementById("selectedProject"),e.subscribe("Changed Todos",((t,e)=>{this.displayActiveProjectsTodos(e.active)})),e.subscribe("LoadedActive",((t,e)=>{this.displayActiveProjectsTodos(e.active)}))}updateProjectsList(t){let e=Array.from(t),o="";e.forEach(((t,e)=>{let s=t.title;t.active?o+=`\n                <li id="${e}" class="project-button active">\n                    ${s}\n                    <button class="deleteProject"><i id="${e}" class="fas fa-trash-alt"></i></button>\n                </li>\n                `:o+=`\n            <li id="${e}" class="project-button">\n                ${s}\n                <button class="deleteProject"><i id="${e}" class="fas fa-trash-alt"></i></button>\n            </li>\n        `})),this.appendProjects.innerHTML=o}projectSubmitData(){return document.getElementById("projectTitle").value}todoSubmitData(){return{todoTitle:document.getElementById("todoTitle").value,todoDesc:document.getElementById("todoDesc").value,todoPri:document.getElementById("todoPri").value,tododd:document.getElementById("tododd").value}}bindAddProject(t){this.projectForm.addEventListener("submit",(e=>{e.preventDefault(),this.projectSubmitData()?(t(this.projectSubmitData()),this.projectOverlay.style.display="none",this.projectForm.reset()):console.log("No submit data")}))}bindDeleteProject(t){this.appendProjects.addEventListener("click",(e=>{"I"===e.target.nodeName&&t(e.target.id)}))}bindActiveProject(t){this.appendProjects.addEventListener("click",(o=>{o.target.classList.contains("project-button")&&(t(o.target.id),e.subscribeOnce("Changed Active",((t,e)=>{this.displayActiveProjectsTodos(e.active)})),this.styleActiveProject(o.target.id))}))}bindAddToDo(t){this.todoForm.addEventListener("submit",(e=>{e.preventDefault(),this.todoSubmitData()&&(t(this.todoSubmitData()),this.todoOverlay.style.display="none",this.todoForm.reset())}))}styleActiveProject(t){parseInt(t),this.projectButtons=Array.from(document.getElementsByClassName("project-button"));for(let e=0;e<this.projectButtons.length;e++)this.projectButtons[e].id===t?this.projectButtons[e].classList.add("active"):this.projectButtons[e].id!==t&&this.projectButtons[e].classList.remove("active")}displayActiveProjectsTodos(t){if(null!=t){let e=t.title,o=t.todos,s="";if(this.selectedProject.innerHTML=`${e}`,0===o.length){let t="<p>No Todos in this Project, Create One.</p>";this.appendTodos.innerHTML=t}else o.forEach(((t,e)=>{const{id:o,title:i,dd:r,desc:n,pri:c}=t;s+="\n            ",s+="High"===c?`<li id="${e}" class="todo high">`:"Medium"===c?`<li id="${e}" class="todo medium">`:`<li id="${e}" class="todo low">`,s+=`\n                <div class="left-todo">\n                    <button class="toggle-todo interface"><i class="far fa-circle"></i></button>\n                     <p class="todo-title">${i}</p>\n                </div> \n                <div class="right-todo">\n                    <div class="input">\n                        <input type="date" readonly name="duedate" value="${r}"> \n                    </div>\n                        <button class="edit-todo interface"><i class="fas fa-edit"></i>Edit</button>\n                        <button class="delete-todo interface"><i class="fas fa-trash-alt"></i>Delete</button>\n                        <i class="fas fa-expand-arrows-alt"></i>\n                </div>\n                <div id="todoDesc" class="todoDesc">\n                 <p class="desc">${n}</p>\n                </div> \n             </li>\n             \n             `.trim()})),this.appendTodos.innerHTML=s}}loadProjects(){window.addEventListener("load",(t=>{if(null!==window.localStorage.getItem("theProjects")){let t=JSON.parse(window.localStorage.getItem("theProjects")||[]);this.updateProjectsList(t),e.publish("Loaded Projects",{saved:t})}}))}}class n{constructor(){this.model=new i,this.view=new r,this.view.updateProjectsList(this.model.projects),this.view.bindAddProject(this.handleAddProject),this.view.bindDeleteProject(this.handleDeleteProject),this.view.bindActiveProject(this.handleActiveProject),this.view.bindAddToDo(this.handleAddTodo)}handleAddProject=t=>{this.model.addProject(t)};handleDeleteProject=t=>{this.model.deleteProject(t)};handleActiveProject=t=>{this.model.toggleActivePropertyonProject(t)};handleAddTodo=t=>{this.model.addTodo(t)}}document.addEventListener("DOMContentLoaded",(t=>{(new n).view.loadProjects()}))})()})();
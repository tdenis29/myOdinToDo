(()=>{var t={798:function(t,e,o){t=o.nmd(t),function(o,r){"use strict";var n={};o.PubSub?(n=o.PubSub,console.warn("PubSub already loaded, using existing version")):(o.PubSub=n,function(t){var e={},o=-1;function r(t,e,o){try{t(e,o)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function n(t,e,o){t(e,o)}function i(t,o,i,s){var c,a=e[o],d=s?n:r;if(Object.prototype.hasOwnProperty.call(e,o))for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&d(a[c],t,i)}function s(t){var o=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,o)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[o]))}function c(t,e,o,r){var n=function(t,e,o){return function(){var r=String(t),n=r.lastIndexOf(".");for(i(t,t,e,o);-1!==n;)n=(r=r.substr(0,n)).lastIndexOf("."),i(t,r,e,o);i(t,"*",e,o)}}(t="symbol"==typeof t?t.toString():t,e,r);return!!function(t){for(var e=String(t),o=s(e)||s("*"),r=e.lastIndexOf(".");!o&&-1!==r;)r=(e=e.substr(0,r)).lastIndexOf("."),o=s(e);return o}(t)&&(!0===o?n():setTimeout(n,0),!0)}t.publish=function(e,o){return c(e,o,!1,t.immediateExceptions)},t.publishSync=function(e,o){return c(e,o,!0,t.immediateExceptions)},t.subscribe=function(t,r){if("function"!=typeof r)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var n="uid_"+String(++o);return e[t][n]=r,n},t.subscribeAll=function(e){return t.subscribe("*",e)},t.subscribeOnce=function(e,o){var r=t.subscribe(e,(function(){t.unsubscribe(r),o.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var o;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&delete e[o]},t.countSubscriptions=function(t){var o,r,n=0;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)){for(r in e[o])n++;break}return n},t.getSubscriptions=function(t){var o,r=[];for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&r.push(o);return r},t.unsubscribe=function(o){var r,n,i,s="string"==typeof o&&(Object.prototype.hasOwnProperty.call(e,o)||function(t){var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t))return!0;return!1}(o)),c=!s&&"string"==typeof o,a="function"==typeof o,d=!1;if(!s){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(n=e[r],c&&n[o]){delete n[o],d=o;break}if(a)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&n[i]===o&&(delete n[i],d=!0)}return d}t.clearSubscriptions(o)}}(n)),void 0!==t&&t.exports&&(e=t.exports=n),e.PubSub=n,t.exports=e=n}("object"==typeof window&&window||this)},417:()=>{(()=>{const t=document.getElementById("addNewProjectForm"),e=document.getElementById("projectOverlay"),o=document.getElementById("projectmodalClose");t.addEventListener("click",(t=>{e.style.display="block"})),o.addEventListener("click",(()=>{e.style.display="none"}));const r=document.getElementById("addNewTodoForm"),n=document.getElementById("todoOverlay"),i=document.getElementById("todomodalClose");r.addEventListener("click",(t=>{n.style.display="block"})),i.addEventListener("click",(()=>{n.style.display="none"}))})()}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";o(417);class t{constructor(t,e){this.id=e,this.title=t,this.todos=[],this.active=!1}}var e=o(798);class r{constructor(){this.projects=[{id:0,title:"Default",todos:[],active:!0}]}addProject(o){let r=new t(o,this.projects.length);this.projects.push(r),e.publish("Changed Projects",{projects:this.projects})}deleteProject(t){parseInt(t),this.projects.splice(t,1),e.publish("Changed Projects",{projects:this.projects})}addTodo(t,e){console.log(t,e)}toggleActivePropertyonProject(t){parseInt(t);for(let e=0;e<this.projects.length;e++)this.projects[e].id==t?this.projects[e].active=!0:this.projects[e].id!==t&&(this.projects[e].active=!1);e.publish("Changed Active",{active:this.findActiveProject()})}findActiveProject(){return this.projects.find((t=>t.active))}}class n{constructor(){this.projectForm=document.getElementById("addProject"),this.appendProjects=document.getElementById("appendProjects"),this.projectOverlay=document.getElementById("projectOverlay"),this.appendTodos=document.getElementById("appendTodos"),this.projectButtons=Array.from(document.getElementsByClassName("project-button")),e.subscribe("Changed Projects",((t,e)=>{this.updateProjectsList(e.projects)})),this.todoForm=document.getElementById("todoForm")}updateProjectsList(t){let e=Array.from(t),o="";e.forEach(((t,e)=>{let r=t.title;t.active?o+=`\n                <li id="${e}" class="project-button active">\n                    ${r}\n                    <button class="deleteProject"><i id="${e}" class="fas fa-trash-alt"></i></button>\n                </li>\n                `:o+=`\n            <li id="${e}" class="project-button">\n                ${r}\n                <button class="deleteProject"><i id="${e}" class="fas fa-trash-alt"></i></button>\n            </li>\n        `})),this.appendProjects.innerHTML=o}projectSubmitData(){return document.getElementById("projectTitle").value}bindAddProject(t){this.projectForm.addEventListener("submit",(e=>{e.preventDefault(),this.projectSubmitData()?(t(this.projectSubmitData()),this.projectOverlay.style.display="none"):console.log("No submit data")}))}bindDeleteProject(t){this.appendProjects.addEventListener("click",(e=>{"I"==e.target.nodeName&&t(e.target.id)}))}bindActiveProject(t){this.appendProjects.addEventListener("click",(o=>{"LI"===o.target.nodeName&&(t(o.target.id),this.styleActiveProject(o.target.id),e.subscribe("Changed Active",((t,e)=>{console.log(e)})))}))}styleActiveProject(t){parseInt(t),this.projectButtons=Array.from(document.getElementsByClassName("project-button"));for(let e=0;e<this.projectButtons.length;e++)this.projectButtons[e].id===t?this.projectButtons[e].classList.add("active"):this.projectButtons[e].id!==t&&this.projectButtons[e].classList.remove("active")}displayActiveProjectsTodos(){}}class i{constructor(){this.model=new r,this.view=new n,this.view.updateProjectsList(this.model.projects),this.view.bindAddProject(this.handleAddProject),this.view.bindDeleteProject(this.handleDeleteProject),this.view.bindActiveProject(this.handleActiveProject)}handleAddProject=t=>{this.model.addProject(t)};handleDeleteProject=t=>{this.model.deleteProject(t)};handleActiveProject=t=>{this.model.toggleActivePropertyonProject(t)}}document.addEventListener("DOMContentLoaded",(t=>{new i}))})()})();